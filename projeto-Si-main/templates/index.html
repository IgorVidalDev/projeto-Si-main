<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Aprendendo os N√∫meros!</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Roboto&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f0f8ff; /* Azul c√©u claro */
            color: #333;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        .container {
            background: white;
            padding: 25px 40px;
            border-radius: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        h1 {
            font-family: 'Fredoka One', cursive; /* Fonte mais divertida */
            color: #ff6347; /* Tomate */
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        /* Estilo para o texto de instru√ß√£o */
        .instrucao-texto {
            font-size: 1.2em;
            margin-bottom: 5px;
        }

        #alvoNumero {
            font-family: 'Fredoka One', cursive;
            font-size: 3.5em; /* N√∫mero alvo bem grande */
            font-weight: bold;
            color: #007BFF;
            margin: 10px 0;
            /* Adiciona um espa√ßo para a dica num√©rica n√£o empurrar o layout */
            min-height: 60px; 
        }

        /* Estilo para a dica num√©rica que aparece */
        #numeroDica {
            color: #28a745; /* Verde */
            margin-left: 15px;
        }

        canvas {
            border: 4px dashed #ffb6c1; /* Rosa claro pontilhado */
            border-radius: 15px;
            background-color: #ffffff;
            cursor: crosshair;
            margin-top: 10px;
        }

        .botoes-container {
            margin-top: 20px;
        }

        button {
            font-family: 'Fredoka One', cursive;
            font-size: 1.2em;
            padding: 12px 25px;
            margin: 5px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        button:hover {
            transform: scale(1.05);
        }

        .btn-enviar {
            background-color: #28a745; /* Verde sucesso */
            color: white;
        }

        .btn-limpar {
            background-color: #ffc107; /* Amarelo aviso */
            color: white;
        }
        
        .btn-ajuda {
            background-color: #17a2b8; /* Azul informa√ß√£o */
            color: white;
        }

        #resultado {
            font-size: 1.5em;
            font-weight: bold;
            margin-top: 20px;
            height: 30px; /* Garante espa√ßo para a mensagem */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Aprendendo os N√∫meros!</h1>
        
        <p class="instrucao-texto">Desenhe o n√∫mero que se escreve assim:</p>
        
        <p id="alvoNumero">
            <span id="numeroAlvoValor"></span>
            <span id="numeroDica" style="display: none;"></span> 
        </p>

        <canvas id="canvas" width="280" height="280"></canvas>
        
        <div class="botoes-container">
            <button type="button" class="btn-enviar" onclick="reconhecerDesenho()">‚úîÔ∏è Enviar!</button>
            <button type="button" class="btn-limpar" onclick="clearCanvas()">‚úèÔ∏è Limpar</button>
            <button type="button" class="btn-ajuda" id="showMeHowBtn" onclick="mostrarDica()">üí° Me mostre</button>
        </div>

        <p id="resultado"></p>

        <audio id="acertoSom" src="{{ url_for('static', filename='acerto.mp3') }}" preload="auto"></audio>
        <audio id="erroSom" src="{{ url_for('static', filename='erro.mp3') }}" preload="auto"></audio>
    </div>

    <script src="{{ url_for('static', filename='gerarnovoalvo.js') }}"></script>

    <script>
        // Mapeia o n√∫mero para sua forma por extenso
        const numerosPorExtenso = ["ZERO", "UM", "DOIS", "TR√äS", "QUATRO", "CINCO", "SEIS", "SETE", "OITO", "NOVE"];
        
        // Esta vari√°vel deve ser a mesma do seu arquivo gerarnovoalvo.js
        // Aqui, estamos assumindo que `numeroAlvo` √© uma vari√°vel global l√°.
        // O ideal √© integrar esta l√≥gica no seu arquivo .js principal.
        
        // Atualiza o texto para mostrar o n√∫mero por extenso
        function atualizarTextoAlvo() {
            const spanAlvo = document.getElementById('numeroAlvoValor');
            const spanDica = document.getElementById('numeroDica');
            
            // `numeroAlvo` √© a vari√°vel do seu outro script
            if (typeof numeroAlvo !== 'undefined') {
                spanAlvo.innerText = numerosPorExtenso[numeroAlvo];
                spanDica.innerText = `(${numeroAlvo})`; // Prepara a dica
                spanDica.style.display = 'none'; // Garante que a dica comece escondida
            }
        }

        function mostrarDica() {
            const spanDica = document.getElementById('numeroDica');
            spanDica.style.display = 'inline'; // Mostra a dica
        }

        // Sobrescreve a fun√ß√£o de gerar novo alvo para incluir a atualiza√ß√£o do texto
        const originalGerarNovoAlvo = window.gerarNovoAlvo;
        window.gerarNovoAlvo = function() {
            const novoNumero = originalGerarNovoAlvo(); // Chama a fun√ß√£o original
            atualizarTextoAlvo(); // Atualiza o texto com a palavra
            return novoNumero;
        };

        // Garante que o primeiro n√∫mero seja exibido corretamente ao carregar a p√°gina
        document.addEventListener('DOMContentLoaded', (event) => {
            atualizarTextoAlvo();
        });

    </script>
</body>
</html>